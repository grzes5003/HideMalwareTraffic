from blackBoxIPS.EDistance import EDistance
from util.data_constants import GEN
from unittest import TestCase
import json


class TestEDistance(TestCase):
    def test_rate_flow(self):
        cols = ['Dur', 'sTos', 'dTos', 'SrcBytes', 'DstBytes', 'SrcPkts', 'DstPkts', 'StartTime']
        # res = EDistance.rate_flow(f'..\\saved_data\\wgan_{GEN}_data_generated_0_cols.csv',
        res = EDistance.rate_flow(f'..\\saved_data\\wgan_{GEN}_data_generated_2_cols.csv',
                                  '..\\saved_data\\custom_data2\\p2_spotify_gen3_prepared.csv', cols)
        print(json.dumps([(col, r) for col, r in zip(cols, res)]))
